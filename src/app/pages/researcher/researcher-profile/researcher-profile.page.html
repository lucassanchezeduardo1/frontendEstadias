<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title>Mi Perfil</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon name="power-outline" color="danger"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="profile-container">
    <!-- Header del Perfil -->
    <div class="profile-header">
      <div class="avatar-container">
        <img [src]="researcher.avatar" alt="Avatar">
        <button class="btn-change-photo">
          <ion-icon name="camera"></ion-icon>
        </button>
      </div>
      <h2 class="researcher-name">{{researcher.name}}</h2>
      <p class="researcher-role">{{researcher.title}}</p>
    </div>

    <!-- Estadísticas Rápidas -->
    <div class="profile-stats">
      <div class="stat-item">
        <span class="val">12</span>
        <span class="lab">Artículos</span>
      </div>
      <div class="stat-item">
        <span class="val">5</span>
        <span class="lab">Premios</span>
      </div>
      <div class="stat-item">
        <span class="val">1.5k</span>
        <span class="lab">Seguidores</span>
      </div>
    </div>

    <!-- Formulario de Información -->
    <div class="info-card">
      <div class="card-header">
        <h3>Información Personal</h3>
        <button class="btn-edit-profile" (click)="toggleEdit()">
          {{ editing ? 'Guardar' : 'Editar' }}
        </button>
      </div>

      <div class="info-grid">
        <div class="info-item">
          <label>Nombre Completo</label>
          <input type="text" [(ngModel)]="researcher.name" [readonly]="!editing">
        </div>

        <div class="info-item">
          <label>Grado Académico</label>
          <input type="text" [(ngModel)]="researcher.title" [readonly]="!editing">
        </div>

        <div class="info-item">
          <label>Especialidad</label>
          <input type="text" [(ngModel)]="researcher.specialty" [readonly]="!editing">
        </div>

        <div class="info-item">
          <label>Correo Electrónico</label>
          <input type="email" [(ngModel)]="researcher.email" [readonly]="!editing">
        </div>

        <div class="info-item">
          <label>Institución</label>
          <input type="text" [(ngModel)]="researcher.institution" [readonly]="!editing">
        </div>

        <div class="info-item full-width">
          <label>Biografía Professional</label>
          <textarea rows="4" [(ngModel)]="researcher.bio" [readonly]="!editing"></textarea>
        </div>
      </div>
    </div>
  </div>
</ion-content>