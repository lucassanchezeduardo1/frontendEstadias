<ion-content class="login-content">
    <div class="login-container">
        <div class="background-gradient"></div>
        <div class="login-card">
            <div class="app-icon">
                <ion-icon name="flask"></ion-icon>
            </div>

            <h1 class="login-title">Iniciar Sesión</h1>
            <p class="login-subtitle">Bienvenido a la comunidad científica</p>

            <div class="user-type-selector">
                <button class="user-type-btn" [class.active]="selectedUserType === 'student'"
                    (click)="selectUserType('student')">
                    Estudiante
                </button>
                <button class="user-type-btn" [class.active]="selectedUserType === 'researcher'"
                    (click)="selectUserType('researcher')">
                    Investigador
                </button>
                <button class="user-type-btn" [class.active]="selectedUserType === 'admin'"
                    (click)="selectUserType('admin')">
                    Admin
                </button>
            </div>

            <!-- Formulario -->
            <form class="login-form" (ngSubmit)="onLogin()">
                <div class="input-group">
                    <ion-icon [name]="selectedUserType === 'admin' ? 'person-outline' : 'mail-outline'"
                        class="input-icon"></ion-icon>
                    <input [type]="selectedUserType === 'admin' ? 'text' : 'email'" class="custom-input"
                        [placeholder]="selectedUserType === 'admin' ? 'Nombre de usuario' : 'Correo electrónico'"
                        [(ngModel)]="usernameOrEmail" name="usernameOrEmail" required>
                </div>

                <div class="input-group">
                    <ion-icon name="lock-closed-outline" class="input-icon"></ion-icon>
                    <input [type]="showPassword ? 'text' : 'password'" class="custom-input" placeholder="Contraseña"
                        [(ngModel)]="password" name="password" required>
                    <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" class="password-toggle"
                        (click)="showPassword = !showPassword"></ion-icon>
                </div>

                <button type="submit" class="login-btn">
                    Acceder
                    <ion-icon name="arrow-forward-outline"></ion-icon>
                </button>
            </form>

            <!-- Enlace de registro -->
            <div class="register-section" *ngIf="selectedUserType !== 'admin'">
                <p class="register-text">
                    ¿No tienes cuenta?
                    <a routerLink="/register" class="register-link">Regístrate aquí</a>
                </p>
            </div>
        </div>
    </div>
</ion-content>