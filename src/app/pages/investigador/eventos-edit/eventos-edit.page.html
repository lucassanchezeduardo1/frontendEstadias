<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/investigador/tabs/inicio" icon="chevron-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title>Editar Evento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-container">
    <form [formGroup]="eventoForm" (ngSubmit)="onSubmit()" class="form-card event-form">

      <div class="section-title">
        <ion-icon name="calendar-outline"></ion-icon>
        <span>Detalles del Evento</span>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Título del Evento</ion-label>
        <ion-input type="text" formControlName="titulo" placeholder="Actualizar nombre del evento"></ion-input>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Descripción</ion-label>
        <ion-textarea rows="4" formControlName="descripcion" placeholder="Actualizar descripción..."></ion-textarea>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <ion-label position="stacked">Tipo de Evento</ion-label>
          <ion-input type="text" formControlName="tipo_evento" placeholder="Ej. Conferencia"></ion-input>
        </div>
        <div class="form-group half">
          <ion-label position="stacked">Fecha</ion-label>
          <ion-input type="date" formControlName="fecha"></ion-input>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <ion-label position="stacked">Hora</ion-label>
          <ion-input type="time" formControlName="hora"></ion-input>
        </div>
        <div class="form-group half">
          <ion-label position="stacked">Modalidad</ion-label>
          <ion-select placeholder="Seleccionar" interface="popover" formControlName="modalidad">
            <ion-select-option value="presencial">Presencial</ion-select-option>
            <ion-select-option value="virtual">Virtual</ion-select-option>
            <ion-select-option value="hibrida">Híbrida</ion-select-option>
          </ion-select>
        </div>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Lugar / Link de acceso</ion-label>
        <ion-input type="text" formControlName="lugar_enlace" placeholder="Actualizar dirección o enlace"></ion-input>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Categoría</ion-label>
        <ion-select placeholder="Seleccionar" interface="popover" formControlName="categoria_id">
          <ion-select-option *ngFor="let cat of categorias" [value]="cat.id">{{cat.nombre}}</ion-select-option>
        </ion-select>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Ponentes</ion-label>
        <ion-input type="text" formControlName="ponentes" placeholder="Nombres de los ponentes"></ion-input>
      </div>

      <div class="form-group">
        <ion-label position="stacked">Público Objetivo</ion-label>
        <ion-input type="text" formControlName="publico_objetivo" placeholder="A quién va dirigido"></ion-input>
      </div>

      <!-- Imagen actual -->
      <div class="current-image-info" *ngIf="imgPreview">
        <ion-label>Banner del Evento Actual</ion-label>
        <div class="preview-box">
          <img [src]="imgPreview" alt="Banner actual">
        </div>
        <p class="helper-text">Para cambiar la imagen, crea un nuevo evento.</p>
      </div>

      <div class="submit-container">
        <ion-button expand="block" type="submit" class="submit-btn" shape="round">
          <ion-icon name="save-outline" slot="start"></ion-icon>
          Guardar Cambios
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>